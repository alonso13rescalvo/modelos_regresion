---
title: "prueba"
author: "Cristina, Lucia, Alonso"
date: "2025-02-09"
output: 
  html_document:
      theme: journal
      toc: yes
      toc_depth: 6
      toc_float: yes
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
# Cargamos las librerias que vamos necesitando a lo largo del codigo
library(statip)
library(ggplot2)
library(readr)
library(corrplot)
```

# Introducción

**Información de los autores**
Este proyecto ha sido realizado por el grupo del grado de Ciencia e Ingeniería de datos para la asignatura de Modelos de Regresión que cuanta con los siguientes integrantes:

+ **Cristina Rodríguez Ayllón**
+ **Lucía Arnaldo Cuevas**
+ **Alonso Rescalvo Casas**

Nuestro datasetes el "Facebook Metrics Dataset". Es un conjunto de datos que recopila diversas métricas relacionadas con la interacción de los usuarios en páginas de Facebook. Estas métricas incluyen información sobre impresiones, alcance, interacciones con publicaciones, entre otras.



```{r lectura, warning=FALSE}
# lectura de datos en csv
#datos<-read.csv("dataset_Facebook.csv")
# Cambiamos el nombre de las variables 

#datos<-read.csv("datos/datos.csv")
ntotal <- dim(dataset_Facebook)[1] # numero de observaciones
ptotal <- dim(dataset_Facebook)[2] # numero de columnas



```

Comprobamos que tenemos $n=$```r ntotal``` observaciones y $p=$```r ptotal``` variables en la base de datos.


Según la descripción oficial de los datos, las variables que conforman el conjunto de datos son:

(aqui iria da descripcion de las varibles y tal)


# EDA
## Preguntas a resolver pre-EDA








**Variable objetivo: ¿Existe una variable de “respuesta”? ¿Binaria o multiclase?**
Sí, la variable de respuesta es "Total Interactions". Como estamos en un proyecto de regresión, esta variable es numérica continua y no es binaria ni multiclase.

**¿Es posible identificar variables irrelevantes?. Estudiar variables relevantes requiere, habitualmente, métodos estadísticos.**
Sí, pero para hacerlo correctamente hay que aplicar métodos estadísticos como matrices de correlación.

```{r}
# Seleccionar solo las variables numéricas del dataset de Facebook Metrics
variables_numericas <- sapply(dataset_Facebook, is.numeric)

# Seleccionar solo las columnas numéricas
datos_numericos <- dataset_Facebook[, variables_numericas]

# Calcular la matriz de correlación entre las variables numéricas
correlacion <- cor(datos_numericos)

# Visualizar la matriz de correlación con ggplot2
# Convertir la matriz de correlación a un marco de datos para ggplot
cor_df <- as.data.frame(as.table(correlacion))
colnames(cor_df) <- c("Var1", "Var2", "value")

# Crear el heatmap usando ggplot2
ggplot(cor_df, aes(Var1, Var2, fill = value)) +
  geom_tile(color = "white") +  # Usar tiles de color
  scale_fill_gradient2(low = "white", high = "red", mid = "lightblue", midpoint = 0) +
  theme_minimal() +
  labs(title = "Matriz de Correlación - Facebook Metrics") +
  theme(axis.text.x = element_text(angle = 90, hjust = 1))  # Rotar etiquetas para mejor visibilidad


```


**¿Es posible identificar la distribución que siguen las variables?**
Sí, se puede hacer con gráficos y pruebas estadísticas como:
+ Histogramas para visualizar la forma de la distribución.
+ Boxplots para detectar outliers y asimetrías.
+ Q-Q Plots para comparar con una distribución normal.
+ Pruebas estadísticas como Shapiro-Wilk o Kolmogorov-Smirnov para evaluar normalidad.





## Partición de los datos
Realizamos la división de nuestros datos en 3 muestras: entrenamiento, validación y test.

```{r particion}
# mediante una semilla conseguimos que el ejercicio sea reproducible
set.seed(1)


# creamos índices
indices <- 1:ntotal
ntrain <- ntotal * .5
ntest <- ntotal * .25
nval <- ntotal - (ntrain+ntest)
indices.train <- sample(indices, ntrain, replace = FALSE)
indices.test <- sample(indices[-indices.train],ntest,replace=FALSE)
indices.val <- indices[-c(indices.train,indices.test)]

# Usamos el 50% de la base de datos como conjunto de entrenamiento
# 25% para test
# 25% para validación
train  <- dataset_Facebook[indices.train, ]
test   <- dataset_Facebook[indices.test, ]
val   <- dataset_Facebook[indices.val, ]

```



## Estudio de las variables
La idea es que vayamos viendo que distribucion sigue cada variables (con un histograma), si hay valores atipicos (con un boxplot) y enfrentarlas con el target

```{r}
#esto es de mi proyecto del año pasado(cris)

# Relación con el target

#ggplot(data = train, aes(x = Nausea_Vomiting, fill = as.factor(Baselinehistological_staging))) +
#  geom_bar()+
#  labs(title = "Relación Nauseas/Vomitos - target")

# prueba de chi cuadrado
#chisq.test(table(train$Nausea_Vomiting,train$Baselinehistological_staging))
```




### Target


### Variables




